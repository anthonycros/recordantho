<div class="container">
  <div *ngIf="record" [hidden]="submitted">
    <h3>Détails de l'enregistrement {{ record.name }}</h3>
    <form (ngSubmit)="onSubmit()" #recordForm="ngForm">
    
    <div class="form-group">  
      <label for="id">Id de l'enregistrement : {{ record.id }} </label>
    </div>

    <div class="form-group">
      <label for="name">Nom de l'enregistrement : </label>
      <input type="text" class="form-control "id="name"
            required
            [(ngModel)]="record.name" name="name"
            #name="ngModel">
      <div [hidden]="name.valid || name.pristine"
            class="alert alert-danger">>
          Le nom est obligatoire
      </div>
    </div>

    <div class="form-group">
      <label for="namech">Nom de la chaîne : </label>
      <select class="form-control"
            required
            [(ngModel)]="targetChannelid" name="namech"
            (change)="onChangeChannel()"
            #namech="ngModel">
        <option *ngFor="let channel of channels" [ngValue]="channel.id"> 
          {{ channel.name }} 
        </option>
      </select>  
      <div [hidden]="namech.valid || namech.pristine"
            class="alert alert-danger">>
          Le nom de la chaîne est obligatoire
      </div>
    </div>

    <div *ngIf="record" class="form-group">
      <label for="urlch">URL de la chaîne : {{ record.urlch }}</label>
    </div>

    <div class="form-group">
      <label for="recbegin">Début de l'enregistrement : </label>
      <input type="text" class="form-control "id="recbegin"
            required
            [(ngModel)]="record.recbegin" name="recbegin"
            #recbegin="ngModel">
      <div [hidden]="recbegin.valid || recbegin.pristine"
            class="alert alert-danger">>
          Le début de l'enregistrement est obligatoire
      </div>
    </div>

    <div class="form-group">
      <label for="recend">Fin de l'enregistrement : </label>
      <input type="text" class="form-control "id="recend"
            required
            [(ngModel)]="record.recend" name="recend"
            #recend="ngModel">
      <div [hidden]="recend.valid || recend.pristine"
            class="alert alert-danger">>
          La fin de l'enregistrement est obligatoire
      </div>
    </div>

    <div class="form-group">
      <label for="done">Terminé ? </label>
      <input type="checkbox" class="form-control "id="done"
            [(ngModel)]="record.done" name="done"
            #done="ngModel">
    </div>

    <div class="form-group">
      <label for="archived">Archivé ? </label>
      <input type="checkbox" class="form-control "id="archived"
            [(ngModel)]="record.archived" name="archived"
            #archived="ngModel">
    </div>

    <button type="button" class="btn btn-default" (click)="goBack()">Retour</button>
    <button type="submit" class="btn btn-success" [disabled]="!recordForm.form.valid">Enregistrer</button>
    <button type="button" class="btn btn-default" (click)="recordForm.reset()">Réinitialiser</button>
  </form>
  </div>
</div>